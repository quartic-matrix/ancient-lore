<html>
  <body>

    <div id="buttons-0" style="position: relative; float: left;"\>

    <script src="deploy/webrtc-swarm.js"></script> 
    <script src="scripts/my-swarm.js"></script> 
    <script src="scripts/event-log.js"></script> 
    <script src="scripts/game-system.js"></script> 
    <script src="scripts/game-clock.js"></script> 
    <script>
      var clocks = [];
      // var fakeServer = new FakeServer();

      document.addEventListener("onload",init(),false);

      function init() {
        var domElement0 = document.getElementById("buttons-0");
        var domElement1 = domElement0.cloneNode(true);
        domElement1.id = "buttons-1";
        domElement0.parentElement.appendChild(domElement1);

        clocks.push(createGameClock(domElement0));
        clocks.push(createGameClock(domElement1));
      }

      function createGameClock(domElement) {
        if (typeof fakeServer !== "undefined") {
          var swarm = new FakeSwarm();
          fakeServer.connect(swarm);
        } else {
          var swarm = new WebSwarm();
        }
        var eventLog = new SyncedEventLog(swarm); 

        var clock = {};
        clock.gameClockDisplay = new GameClockDisplay(eventLog, domElement);
        clock.gameClockBoard = new GameClockBoard(domElement);
        clock.gameClockBoardUpdater = new GameClockBoardUpdater(
          clock.gameClockBoard, eventLog
        );
        clock.gameClock = new GameClock(eventLog);
        return clock;
      }

    </script> 
  </body>
</html>
